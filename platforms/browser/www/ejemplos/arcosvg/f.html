- var d = 4000; //- SVG dimension
- var o = -.5*d; //- top left corner coord

//- axes
- var mrk_h = .03*d, mrk_w = 1.5*mrk_h; //- axis arrow marker dimd
- var ax_e = .45*d; //- how much axes extend
- var ax_t = .5*d - mrk_h; //- axis label offset

//- main circle
- var r = .375*d;

//- generic point
- var pt_r = .005*d;

//- angular measure
- var me_r = .1*r;

//-radial lines
- var nr = 5;

svg(viewBox=[o, o, d, d].join(' ') 
		aria-labelledby='title descr' role='img')
	title#title animation explaining radians
	descr#descr A radian is the measure of a circular arc equal in length to the radius of the same circle. This demo draws a circle of radius r, moves and bends this radius segment over the circle, then multiplies it to reveal that exactly π such arc lengths can be fit in half the circle's circumference
	defs
		marker#arrow(viewBox='-50 -70 250 140' 
								 markerUnits='strokeWidth'
								 markerWidth=mrk_w markerHeight=mrk_h
								 orient='auto' refX='100')
			polygon(points='50,0 0,-50 150,0 0,50')
		clipPath#slicer: path
		clipPath#cutter: path
		line#axis(x1=-ax_e x2=ax_e)
		circle#circle.vlni(r=r)
		circle#point(r=pt_r)
		g#rline
			line(x2=r)
			use(xlink:href='#point' x=r)
	
	g#axes
		use(xlink:href='#axis')
		text(x=ax_t): tspan x
		use(xlink:href='#axis' transform='rotate(90)')
		text(y=ax_t): tspan y
	
	use#base(xlink:href='#circle')
	
	g#over(clip-path='url(#slicer)')
		use(xlink:href='#circle')
		circle(r=me_r)
	
	g#rlines
		- for(var i = 0; i < nr; i++) {
			- var a = ((i - 1)%3 + 1)*180/Math.PI;
			- var b = (((i < nr - 1) ? i/Math.PI : 1)*180).toFixed(3); 
			- var v = i ? ('rotate(' + a.toFixed(3) + ')') : null;
			- var j = i ? ((i - nr + 1) ? .75 : 1.5) : 1;
			- var cls = (i < nr - 1) ? null : 'rot';
			use(xlink:href='#rline' 
					transform=v class=cls)
			text(transform=`rotate(${b})translate(${r + j*me_r})rotate(-${b})translate(0 ${(j - .5)*pt_r*2})`) #{(i < nr - 1) ? i : 3.14}
		- }
		g#pie
			text#full(transform=`translate(${(r + me_r)} ${-2*pt_r})`) 2<tspan>π</tspan>
			text#half(transform=`translate(${-(r + 1.25*me_r)} ${-2*pt_r})`) <tspan>π</tspan>
	
	use#origin(xlink:href='#point')
	
	g#anim
		path#morphr.vlni(d='M0,0C0,0 0,0 0,0')
		use#s(xlink:href='#point')
		use#e(xlink:href='#point')
